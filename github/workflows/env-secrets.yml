name: Workflow con Variables de Entorno y Secretos

on:
  push:
    branches: [ main, develop ]

jobs:
  deploy:
    name: Deploy con secretos
    runs-on: ubuntu-latest
    environment: production  # Define entorno

    env:
      API_URL: ${{ secrets.API_URL }}
      API_KEY: ${{ secrets.API_KEY }}
      NODE_ENV: production

    steps:
      - uses: actions/checkout@v3

      - name: Deploy
        run: |
          echo "Deploying to: $API_URL"
          echo "Entorno: $NODE_ENV"
          # Â¡NUNCA imprimas API_KEY en logs!
          # echo $API_KEY
